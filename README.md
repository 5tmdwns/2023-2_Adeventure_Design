<p align="center">
  <h1 align="center">엘리베이터 혼잡도 알림 시스템✨</h1>
</p>

## Index ⭐️
- [1. 작품 제작 목적](#작품-제작-목적) <br/>
- [2. 작품 설명](#작품-설명) <br/>
- [3. 구현 과정 중 어려움 및 계획 변경](#구현-과정-중-어려움-및-계획-변경) <br/>
- [4. 작품의 활용성 및 기대 효과](#작품의-활용성-및-기대-효과) <br/>
- [5. 최종 부품 구입 리스트 및 사용 금액](#최종-부품-구입-리스트-및-사용-금액) <br/>

## 작품 제작 목적
&nbsp;엘리베이터를 오랫동안 기다렸지만 막상 문이 열리니 안에 사람이 너무 많아서 못 타거나 불편하게 끼여서 탄 경험, 다들 한 번쯤 해봤을 것이다. <br/>그럴 때면 엘리베이터 기다린 시간이 아깝고 ‘이럴 줄 알았으면 그냥 걸어갈 걸’하는 생각이 들곤 한다. <br/>이러한 불편함이 발생하는 이유는 사람들이 엘리베이터 문이 열리기 전까지 내부 상황을 알 수 없기 때문이다. <br/>우리는 이 문제점을 해결하기 위해 ‘엘리베이터 혼잡도 알림 시스템’을 만들었다. <br/>보이지 않는 엘리베이터의 내부 혼잡도를 기다리는 사람이 미리 알 수 있게 하여 사람들이 엘리베이터를 계속 기다릴지, 계단이나 에스컬레이터 등 다른 방법을 이용할지 빠르게 선택할 수 있게 하는 것이 본 작품의 목적이다.
<br/>
<br/>&nbsp;사람들이 엘리베이터 문이 열리기 전에 내부 혼잡도를 미리 알 수 있는 기존의 유일한 방법은 만원 경고음이다. <br/>하지만 엘리베이터에 만원 알림이 안 뜨더라도 탈 공간이 없는 경우가 많다. 이는 만원 알림이 오직 ‘무게’로만 혼잡도를 판단하기 때문이다. <br/>이러한 기존 시스템의 허점을 보완하기 위해서 조도 센서와 적외선 센서를 이용해 무게가 아닌 다른 요소로 혼잡도를 판단하는 엘리베이터 혼잡도 알림 시스템을 만들었다. <br/>
<br/>&nbsp;버튼을 누르면 알아서 여러 대의 엘리베이터 중 가장 빨리 도착하는 엘리베이터가 오는 시스템도 있는데, 본 시스템은 이와는 전혀 다른 목적을 가지고 있다. <br/>본 시스템은 에스컬레이터나 계단 같은 대체 이동 방법이 있는 환경에서 사람들이 혼잡도 안내 등을 보고 엘리베이터를 기다릴지 다른 방법으로 이동할지 빨리 결정할 수 있게 하는 것이 목적이다. 

## 작품 설명
<table align="center">
  <tr>
    <td align="center"><img width="90%" src="https://github.com/user-attachments/assets/e540745f-a115-4240-97fc-35cecbe07c1f" alt="조도 센서"/></td>
    <td align="center"><img width="90%" src="https://github.com/user-attachments/assets/8f5a6319-a41d-4b19-9a14-6c5124dbe979" alt="3색 LED 신호등"/></td>
    <td align="center"><img width="90%" src="https://github.com/user-attachments/assets/45ef9778-812e-4ef8-8c2a-b4f3089db1df" alt="적외선 센서"/></td>
    <td align="center"><img width="90%" src="https://github.com/user-attachments/assets/661c739b-3b30-4f1a-8914-3dd440add4f6" alt="작품의 전체적인 모습"/></td>
  </tr>
  <tr>
    <td align="center">조도 센서</td>
    <td align="center">3색 LED 신호등</td>
    <td align="center">적외선 센서</td>
    <td align="center">작품의 전체적인 모습</td>
  </tr>
</table>
<br/>&nbsp;엘리베이터 내부의 혼잡도를 측정하기 위해서 적외선 센서와 조도 센서를 사용했다. <br/>
사람들이 탑승하는 엘리베이터 내부 공간의 바닥을 투명한 아크릴로 만들고 그 아래에 조도센서를 설치했다. <br/> 
엘리베이터 내부 천장에 조명이 설치되어 있고, 조도 센서는 사람들의 발 밑에 설치되어 있으므로 사람들이 엘리베이터에 탑승하면 조도센서에 도달하는 빛이 가려진다. <br/>
따라서 조도센서는 감지되는 빛의 양이 줄어들면 사람이 탑승했다고 인식한다. <br/>

&nbsp;하지만 조도센서만 사용하면 문제가 발생한다. <br/>
사람이 정확히 조도센서 바로 위에 서지 않고 조금 비켜나서 서면 조도센서에 도달하는 빛의 양이 유의미하게 줄어들지 않는다. <br/>
따라서 엘리베이터에 사람들이 많이 타도 조도센서에서 비켜나 서있으면 조도센서는 아무도 없다고 인식하게 된다. 이러한 문제점을 보완하기 위해 적외선 센서를 추가하였다. <br/>
조도센서를 사용하여 혼잡도를 측정하려면 ‘조도센서에서 감지되는 빛의 양은 사람으로 가려진 엘리베이터 내부 면적에 반비례한다’는 사실을 이용해 측정되는 빛의 양을 가지고 사람 유무를 추정해야 한다. <br/>
이와 달리 적외선 센서는 한 지점의 장애물 유무를 정확히 알려준다는 장점이 있다. <br/>

&nbsp;적외선 센서를 문을 제외한 세 모서리에 설치하여 벽 쪽에 붙어 서있는 사람들을 감지하도록 하였다. <br/>
우리가 엘리베이터를 탈 때 정중앙에 서있기보다는 벽에 붙어 서있는 경우가 많다는 것을 고려하여 적외선 센서를 이렇게 배치했다. <br/>
그리고 4개의 조도 센서를 바닥면의 가운데 설치하여 엘리베이터 가운데 서있는 사람들을 감지하도록 하였다. <br/>
이렇게 다양한 센서를 복합적으로 이용해 혼잡도를 측정함으로써 무게로만 혼잡도를 판단하는 기존의 만원 알림 시스템보다 더욱 정확하게 혼잡도를 측정할 수 있게 했다. <br/>
엘리베이터 외부에는 3색 LED 신호등을 설치했다. <br/>
혼잡도가 매우 높아 사람이 탈 공간이 없으면 빨간불, 약간 혼잡하여 내부가 비좁으면 노란불, 엘리베이터 내부가 거의 비어 있으면 초록불이 켜지도록 코딩을 했다. <br/>
사람들은 이 3색 LED 신호등 색을 보고 엘리베이터가 도착하기 전에 내부 혼잡도를 미리 알 수 있다. <br/>

&nbsp;엘리베이터 본체와 문은 3D프린터로 인쇄하였다. <br/>

&nbsp;아래의 표는 시스템의 구동 기준이다.

| **센서등** | **상황** | **조도센서** | **적외선센서** |
|:---:|:---:|:---:|:---:|
| **빨강** | \<상황 1\><br>엘리베이터 내부가 꽉 차 있고 더 이상 사람이 들어올 수 없는 경우 | 센서가 감지하는 빛의 양이 매우 적다. | 3개의 센서가 사람을 감지한다. |
| **노랑** | \<상황 2\><br>엘리베이터 중앙에 사람들이 몰려 있고 벽면에 공간이 비어 있는 경우 | 센서가 감지하는 빛의 양이 매우 적다. | 모든 센서가 사람이 없다고 감지한다. |
| **노랑** | \<상황 3\><br>엘리베이터 벽면에 사람이 꽉 차 있고 중앙에 빈공간이 있는 경우 | \<상황 4\>와 같이 감지하는 빛의 양이 매우 많다. | 3개의 센서가 사람을 감지한다. |
| **초록** | \<상황 4\><br>엘리베이터 내부가 비어 있거나 한 명만 있는 경우 | 센서가 감지하는 빛의 양이 매우 많다. | 하나의 센서가 사람을 감지하거나 모든 센서가 사람이 없다고 감지한다. |

## 구현 과정 중 어려움 및 계획 변경
### 1. 센서 오류 및 제작 계획 변경
&nbsp;구현 과정에서의 어려운 점은 생각보다 많았다. <br/>
일단, 제품 구상에서 레이저 센서를 바닥에서의 거리와 측정된 거리의 차이를 이용하여 사람의 유무를 파악하려 하였다. <br/>
하지만 레이저 센서는 레이저를 쏴 거리를 측정하는 센서가 아닌, 레이저만 쏘는 엑츄에이터였기 때문에 이를 적외선 거리 감지 센서로 바꾸어 진행하였다. <br/>
또한, 조도 센서를 측면에 두어 측면의 사람 유무를 판단하려 했지만, 사람이 가까이 있어도 감지하는 빛의 양이 유의미하게 줄어들지 않아, 조도센서를 바닥에 부착하기로 하였다. <br/>
그리고 사람들이 타는 객실바닥을 조도센서모듈을 부착한 바닥으로부터 일정거리 떨어뜨려, 빛의 가림을 최소화 하였다. 다만, 3D프린트 높이 제한으로 인해 33mm가량 띄었다. <br/>

<table align="center">
  <tr>
    <td align="center"><img width="243" height="110" src="https://github.com/user-attachments/assets/07c791cb-b550-4f94-9a4e-8e77241c73f3" alt="바닥 틈.stl"/></td>
  </tr>
  <tr>
    <td align="center">위의 틈에는 아크릴판(객실바닥), 아래의 틈에는 조도센서가 부착된 바닥</td>
  </tr>
</table>

### 2. 아크릴판 위에서의 적외선 센서의 작동 오류
&nbsp;시연 과정에서 적외선 센서의 작동 오류도 있었다. <br/>
적외선 센서가 장애물을 인식하는 범위를 엘리베이터 천장에서 객실 바닥 길이(약140mm)로 설정했는데, 아크릴판이 있을 시, 적외선 센서가 작동을 안하는 오류가 발생했었다. <br/>
적외선센서의 거리감지범위는 대략 30mm ~ 80mm 정도 된다. <br/>
해결방안을 찾는 도중, 투명 아크릴 판에 검정색 종이를 붙이니, 적외선 센서가 계획한대로 작동을 했다. <br/>

### 3. 사람 혼자서 4개의 조도센서 위에 섰을 때의 조도센서 CdS값 증가
&nbsp;본 작품은 조도센서를 바닥 중앙 4군데에 부착한다. <br/>
사람 혼자 객실내부에 탔을 시, 중앙 바닥에 있는 4개의 조도센서를 그림자로 가려버려 CdS값이 1900~2000까지 증가하는 경우가 있어, 그러한 경우의 수를 따로 만들어 천장 벽쪽에 부착한 적외선 센서가 켜지지 않음을 이용하였다. <br/>

### 4. 사람 수에 따른 센서 작동의 경우의 수
&nbsp;작동 과정에서는 사람 수에 따른 센서 작동 경우의 수가 굉장히 많았다. <br/>
직접 경우를 나눠보니 약 32가지의 경우가 있었다. <br/>
이 중에서 가장 어려웠던 경우는 3번의 경우였다. 이 경우는 측면을 감지하는 적외선 센서로 극복해 나갈 수 있었다. <br/>
하지만, 사람들이 많이 타고, 사람들이 적외선 센서가 인식되지 않게 벽쪽에 위치할 경우, 3번의 경우와 같은 상황이 된다. 이는 적외선 센서를 늘려서 적외선 센서가 인식이 되게 해야한다. <br/>

## 작품의 활용성 및 기대 효과
&nbsp;혼잡도 알림 시스템은 기존의 엘리베이터에 추가할 수 있는 시스템으로 다음과 같은 특징을 가진 공간의 엘리베이터에 활용되면 효과적이다. <br/>

- 엘리베이터의 수용인원보다 이용자가 훨씬 많은 공간 <br/>
- 다른 이동수단이 존재하는 경우 ex) 무빙 워크, 계단 <br/>

&nbsp;따라서 백화점, 대형마트, 기차역, 경희대 제 2기숙사처럼 엘리베이터 이용자가 많아 대기시간이 긴 장소에서 혼잡도 알림 시스템을 통해 엘리베이터 대기자는 더 빠른 이동수단을 판단할 수 있고 시간을 절약할 수 있다. <br/>
혼잡도 알림 시스템의 타겟 사용층은 크게 엘리베이터 크게 소유자와 승객으로 구분할 수 있다. <br/>
소유자는 단순히 엘리베이터의 수를 늘려 수용인원을 늘리는 것보다 혼잡도 알림 시스템으로 이용자들이 다른 이동수단을 사용하도록 유도할 수 있다. <br/>
예상할 수 있는 기대효과로는 적은 비용으로 엘리베이터를 사용하는 이용자들의 불만을 해결할 수 있다. <br/>
엘리베이터를 이용하는 이용자들은 사용할 엘리베이터의 혼잡도를 미리 확인하고 본인의 상황을 고려한 가장 쾌적한 엘리베이터 또는 다른 이동수단을 선택하여 최적의 이동경로를 능동적으로 판단할 수 있다. <br/>
<br/>
&nbsp;혼잡도 알림 시스템은 센서를 이용해 내부 공간의 빈공간을 광학적으로 감지하고 이용자에게 알리는 시스템이다. <br/>
정확성과 실용성 두가지 방향을 발전시켜 각기 다른 분야로 확장이 가능하다. <br/>

1. 사람이 직접 보기 어려운 내부 공간에서 물체의 위치, 부피를 정확하게 탐지할 수 있는 시스템은 보안, 관찰, 발견이 필요한 분야에서 사용될 수 있다. <br/>
2. 최소한의 센서와 알림 등을 통해 내부공간의 빈공간과 채워진 공간을 대략적으로 탐지할 수 있는 시스템은 창고, 천장 등 실생활 중 보기 힘든 공간에 부담 없이 설치하여 활용할 수 있다. <br/>

&nbsp;바쁜 사람들은 엘리베이터 외부 LED 색이 빨간색이면 어차피 타지 못할 엘리베이터를 기다리며 시간 낭비하지 않고 빠르게 계단이나 에스컬레이터를 이용할 수 있다. <br/>
따라서 유동인구가 많은 대형마트, 백화점 등에 엘리베이터 혼잡도 알림 시스템을 설치하여 손님들이 시간 낭비하는 것을 막을 수 있다. <br/>
손님들이 혼잡도 안내 등을 보고 엘리베이터를 기다릴지 말지 빨리 결정할 수 있기 때문에 엘리베이터 대기 공간이 좁은 대형마트나 백화점에서 공간을 원활하게 확보할 수 있다. <br/>
혼잡도를 미리 알려줌으로써 무리한 승차 시도로 인해 발생할 수 있는 사고도 예방할 수 있다. <br/>

## 최종 부품 구입 리스트 및 사용 금액
|**품목**|**금액**|
|:---:|:---:|
|아두이노 메가 2560 호환보드(1개)|25,300원|
|적외선 거리 감지 센서(3개)|6,600 * 3 = 19,800원|
|조도센서(4개)|1,980 * 4 = 7,920원|
|아두이노 네오 픽셀(1개)|6,600원|
|3색 RGB LED 신호등(1개)|4,400원|
|레이저 센서(5개)|800원 * 5개 = 4,000원 (사용 X)|








